<!DOCTYPE html>
<html lang="en"> 
<head>
	<title>Giorgio Saad – Software Developer</title>
	
	<!-- Meta -->
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="description" content="Giorgio Saad - Software Engineer">
	<meta name="author" content="Giorgio Saad">
	<meta property="og:title" content="Giorgio Saad - Software Engineer" />
	<meta property="og:description" content="Ciao! Sono uno sviluppatore software con oltre 20 anni di esperienza nello sviluppo full-stack, specializzato nello stack .NET (C#) e Angular." />
	<meta property="og:url" content="https://giorgio160586.github.io" />
	<meta property="og:type" content="website" />
	<meta property="og:image" content="https://giorgio160586.github.io/assets/images/share-image.png" />
	<link rel="shortcut icon" href="https://giorgio160586.github.io/favicon.ico"> 
	
	<!-- Google Fonts -->
	
	<link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
	
	<!-- Bootstrpa Icons -->
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css">
	
	<!-- FontAwesome JS -->
    <script defer src="../assets/fontawesome/js/all.js"></script>
    
    <!-- Plugin CSS -->
    <link rel="stylesheet" href="../assets/plugins/highlight/styles/github-dark-dimmed.min.css">

	<!-- Theme CSS -->  
	<link id="theme-style" rel="stylesheet" href="../assets/css/theme-1.css">

</head> 


<body>
	<div class="container-fluid">
			<div class="side-panel position-relative">
				 
				<nav class="navbar">
			        <div aria-labelledby="offcanvasNavbarLabel" class="offcanvas offcanvas-start show d-flex" id="offcanvasNavbar" data-bs-scroll="true" data-bs-backdrop="false" tabindex="-1">
			            <div class="offcanvas-body d-flex align-items-center ">
			                <ul class="main-nav navbar-nav text-center">
				                
								<li class="nav-item">
									<a class="nav-link d-flex flex-column" href="index.html"><span class="icon-holder"><i class="fa-solid fa-circle-user"></i></span><span class="nav-text">About</span></a>
								</li>
								<li class="nav-item">
									<a class="nav-link d-flex flex-column" href="projects.html"><span class="icon-holder"><i class="fa-solid fa-briefcase"></i></span><span class="nav-text">Projects</span></a>
								</li>
								<li class="nav-item">
									<a class="nav-link d-flex flex-column" href="blog-home.html"><span class="icon-holder"><i class="fa-solid fa-pen-fancy"></i></span><span class="nav-text">Blog</span></a>
								</li>
								<li class="nav-item">
									<a class="nav-link d-flex flex-column" href="resume.html"><span class="icon-holder"><i class="fa-solid fa-file-lines"></i></span><span class="nav-text">Resume</span></a>
								</li>
								<li class="nav-item">
									<a class="nav-link d-flex flex-column" href="contact.html"><span class="icon-holder"><i class="fa-solid fa-comment-dots"></i></span><span class="nav-text">Contact</a>
								</li>
								<li class="nav-item nav-item-close">
				                    <button aria-label="Close" class="btn-close" data-bs-dismiss="offcanvas" type="button"><i class="bi bi-x"></i></button>
				                </li>
							</ul>
			            </div>
			        </div>
				  
				</nav>
			</div><!--//side-panel-->
			
			<div class="main-content-wrapper">
				<div class="container-fluid">
					<div class="top-bar text-center position-relative">
						<div class="top-bar-inner">
							
							<a class="menu-toggler" data-bs-toggle="offcanvas" href="#offcanvasNavbar" role="button" aria-controls="offcanvasNavbar">
								 <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-list" viewBox="0 0 16 16">
								  <path fill-rule="evenodd" d="M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"/>
								</svg>
					        </a>
					        <!--//mode-toggle-->
							
							<div class="top-bar-cta d-flex justify-content-center">  
								<a href="/it/" class="d-flex align-items-center me-3">
									<img src="../assets/images/flag-it-svgrepo-com.svg" alt="Italian Flag" height="24" class="me-1">
									<span class="d-none d-md-inline">Italiano</span>
								</a>
								<a href="/en/" class="d-flex align-items-center me-3">
									<img src="../assets/images/flag-for-flag-united-kingdom-svgrepo-com.svg" alt="American Flag" height="24" class="me-1">
									<span class="d-none d-md-inline">English</span>
								</a>
							</div>
							<ul class="social-list list-inline mx-auto d-none d-lg-block">
								<!--<li class="list-inline-item me-0 me-md-1 me-lg-2"><a href="#"><i class="fa-brands fa-x-twitter fa-fw"></i></a></li>-->
								<li class="list-inline-item me-0 me-md-1 me-lg-2"><a href="https://github.com/giorgio160586"><i class="fa-brands fa-github fa-fw"></i></a></li>
								
								<li class="list-inline-item me-0 me-md-1 me-lg-2"><a href="https://www.linkedin.com/in/giorgio160586"><i class="fa-brands fa-linkedin-in fa-fw"></i></a></li>
								
								<li class="list-inline-item me-0 me-md-1 me-lg-2"><a href="https://wa.me/393807475873" target="_blank" rel="noopener"><i class="fa-brands fa-whatsapp fa-fw"></i></a></li>
								<li class="list-inline-item me-0 me-md-1 me-lg-2"><a href="mailto:giorgio160586@email.com"><i class="fa-solid fa-envelope fa-fw"></i></a></li>
							</ul><!--//social-list-->
							
						</div><!--//top-bar-inner-->
						
					</div><!--//top-bar-->
					
					<section class="blog-post-section section has-profile-image mx-auto">
						<div class="profile-holder text-center">
							<img class="profile-pic rounded-circle" src="../assets/images/profile.png" alt="image">
						</div><!--//profile-holder-->
						
						<div class="blog-breadcrumb">
		                    <a class="blog-home-link" href="blog-home.html"><i class="bi bi-arrow-left"></i> Back To Blog Home</a>
	                    </div>
			                    
						<div class="blog-entry">                 
			                <article class="post">
			                    <h2 class="post-title text-center py-2">MongoDb</h2>
			                    <div class="post-author text-center mb-3">By <a href="index.html">Giorgio Saad</a></div>
		                        
			                    <div class="post-content">
			                        <p>MongoDB è un DBMS non relazionale, basato su un concetto dove viene messo come al primo posto la velocità. Un modo semplice per comprendere il suo funzionamento è pensare che si tratti di un tipo database realizzato per memorizzare degli oggetti. Gli oggetti sono essenzialmente dei JSON, chiamati BSON, e rappresentano i record chiamati document, contenuti all’interno delle tabella chiamate collection.</p>
									<p>Nel seguente progetto di esempio parto da uno schema ER su SQL pre-realizzato per meglio comprendere l’idea generale della struttura della logica dell’applicativo.</p>

									<div class="img-fluid mb-3"><img class="img-fluid rounded" src="../assets/images/blog/mongodb-1.png"></div>

									<p>Inizio gli sviluppi creando la prima entità ProdottoModel essendo l’entità principale del progetto e inserendo alcune proprietà che la rappresentano. L’attributo [BsonId] è necessario per identificare la primary key, definendola di tipo Guid facilitandomi così nella gestione. </p>
									<pre>
										<code>public class ProdottoModel
{
   [BsonId]
   public Guid Id { get; set; }
   public string Codice { get; set; }
   public string Descrizione { get; set; }
   public string UM { get; set; }
}</code>
									</pre>
									<p>Eseguo un test di inserimento, semplicemente istanziando MongoClient e non specificando nessuna ConnectionString in modo che si colleghi al server in locale precedentemente installato. Nel dettaglio cerca un database in locale di nome pmgmt non trovandolo lo crea, la stessa cosa succede per le tabelle. </p>
									<pre><code>var client = new MongoClient();
IMongoDatabase db = client.GetDatabase("pmgmt");

var l = db.GetCollection("prodotti");
l.InsertOne(new ProdottoModel() {
    Codice = "0011494.01",                      
    Descrizione = "LATTE DI CAPRA P/S UHT - LT - 1",                     
    UM = "LT"
});</code></pre>
									<p>Visualizzo il risultato nel management utilizzando MongoDB Compass, installato durante l’installazione di MongoDB Community Server. </p>
							
									<div class="img-fluid mb-3"><img class="img-fluid rounded" src="../assets/images/blog/mongodb-2.png"></div>

									<p>Aggiungo alla entità ProdottoModel la proprietà Famiglia di tipo FamigliaModel con all’interno la proprietà nome, ed eseguo un test di inserimento di una nuova riga. </p>
									<pre><code>l.InsertOne(new ProdottoModel()
{
    Codice = "0802720.01",
    Articolo = "PARMALAT YOG.0.1% MAGRO CR.FRUTTA - GR - 125 X 8",
    UM = "GR",
    Famiglia = new FamigliaModel() {  Nome = "YOGHURT" }
});</code></pre>
									<p>Come si può vedere nella seguente immagine, è possibile eseguire questo inserimento nonostante la proprietà famiglia non fosse presente nella entità ProdottoModel. E’ quindi possibile sviluppare un’applicazione senza dover definire lo schema ER come pre-requisito fondamentale. Tutto questo può suonare male, ma tutto ciò rende più flessibile le implementazioni senza dover pensare a query, join, view, insert e tutto quello che riguarda il mondo SQL. </p>
									<div class="img-fluid mb-3"><img class="img-fluid rounded" src="../assets/images/blog/mongodb-3.png"></div>
									<p>Un’altra considerazione che può essere fatta riguarda, come in questo esempio, la proprietà Famiglia essendo comune a più prodotti viene duplicata, ci sarà quindi un maggior uso di spazio disco di un SQL DB ma l’altra faccia della medaglia è che il dato prodotto ha tutte le informazioni collegate senza bisogno di ricercarle o rielaborarle. Ora vediamo come inserire una proprietà a delle righe già inserite. Procedo alla lettura di tutti i dati e successivamente aggiungo un filtro.</p>
									  <pre><code>// leggi tutti i prodotti
var lProdotti = l.Find(new BsonDocument()).ToList();

// cerca i prodotti della famiglia YOGHURT
var filtroYoghurt = Builders.Filter.Where(f => f.Famiglia != null && f.Famiglia.Nome == "YOGHURT")
var lProdottiYoghurt = l.Find(filtroYoghurt).ToList();</code></pre>
									<p>Come ultimo test aggiungo alla classe FamigliaModel una proprietà settore di tipo SettoreModel.</p>
									<pre><code>public class FamigliaModel
{
    public string Famiglia { get; set; }
    public SettoreModel Settore { get; set; }
}
public class SettoreModel
{
    public string Nome { get; set; }
}</code></pre>
									<p>Procedo con l’aggiornamento di tutti i prodotti della famiglia Yoghurt aggiungendo il settore Ultra freschi.</p>
									<pre><code>// aggiorna aggiungendo il settore
foreach (var item in lProdottiYoghurt)
{
    var filtroID = Builders.Filter.Eq("Id", item.Id);
    item.Famiglia.Settore = new SettoreModel() { Nome = "Ultra freschi" };
    l.ReplaceOne(filtroID, item);
}</code></pre>
									<p>In conclusione si può dire che non è esattamente il sistema perfetto per tutti i contesti, però in situazioni dove è necessario tempi di risposta molto veloci, anche a fronte di milioni di dati, o per applicazioni dove sono richiesti tempi di sviluppo ridotti, o non ci sono requisiti chiari, potrebbe essere la soluzione adatta.</p>
									<p>appunti sullo sviluppo:</p>
									<p>Ho utilizzato Visual Studio 2019 creando una nuova Console App (.NET Core). Prima di iniziare gli sviluppi ho installato localmente la versione gratuita MongoDB Community Server scaricandola dal sito ufficiale. Una volta creato l’applicazione ho installato, tramite NuGet, il pacchetto MongoDB.driver necessario per connettersi al database.</p>




			                    </div><!--//post-content-->
			                    
								<div class="post-tags py-5">
									<ul class="list-inline">
										<li class="list-inline-item"><strong>Tags:</strong></li>
										<li class="list-inline-item"><span class="badge tag-badge">mongodb</span></li>
										<li class="list-inline-item"><span class="badge tag-badge">nosql</span></li>
										<li class="list-inline-item"><span class="badge tag-badge">.net core</span></li>
										<li class="list-inline-item"><span class="badge tag-badge">csharp</span></li>
										<li class="list-inline-item"><span class="badge tag-badge">document database</span></li>
										<li class="list-inline-item"><span class="badge tag-badge">schema-less</span></li>
									</ul>
								</div><!--//post-tags-->

			            </div><!--//blog-entry-->
					</section><!--//blog-post-section-->

					
				</div>
			</div><!--//main-content-wrapper-->

		</div><!--//row-->
	
	</div><!--//container-->
	
	<footer class="footer text-center py-4">
		<small class="copyright">Template Copyright &copy; <a href="https://giorgio160586.github.io" target="_blank">giorgio160586.github.io</a> All rights reserved. All trademarks or registered trademarks are property of their respective owners.</small>
	</footer>
	
	<!-- Javascript -->

	<script src="../assets/plugins/popper.min.js"></script> 
	<script src="../assets/plugins/bootstrap/js/bootstrap.min.js"></script>
	
    <!-- highlight -->
	<script src="../assets/plugins/highlight/highlight.min.js"></script>
	<script src="../assets/plugins/highlight/languages/csharp.min.js"></script>
	<script>hljs.highlightAll();</script>
	
	<!-- Dark/Light Mode Toggle  -->
	<script src="../assets/plugins/js-cookie.min.js"></script>
</body>